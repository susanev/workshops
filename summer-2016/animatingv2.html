<html>
	<head>
		<title>Learn to Code</title>

		<link rel="stylesheet" type="text/css" href="../styles.css">
	</head>
	<body>
		<ul class="nav">
			<li><a href="../index.html">Home</a></li>
		</ul>

        <div class="clear"></div>
        
        <ul class="breadcrumbs">
            <li class="page home"><a href="../index.html">Home</a></li>
            <li class="sep">&#62;</li>
            <li class="page"><a href="k12-processing.html">K12 Workshop</a></li>
            <li class="sep">&#62;</li>
            <li class="page"><a class="this" href="animating.html">Animating</a> </li>
        </ul>
        
		<div class="clear"></div>
		
		<h1><a href="summer2016.html">K12 Processing 2-Hour Workshop</a></h1>
		<h3>Summer 2016</h3>
		
        <h2>Animating Your Face</h2>
        
        <div class="section">
            <h4>Activity Description</h4>
            <p>Now that you have your face programmed, we will animate it with sound. Check out this <a href="https://vimeo.com/22245914">example</a>, to get an idea of what you will be doing.</p>
        </div>
        
        <div class="section">
            <h4>Topics Covered</h4>
            <ul>
                <li>Using the background method to clear the sketch</li>
                <li>Using the <a href="http://code.compartmental.net/tools/minim/quickstart/">minim sound library</a></li>
                <li>Using variables</li>
                <li>Using basic mathematical operations with variables</li>
                <li>[Optional] Using map to map values from one range to another</li>
            </ul>
        </div>
        <div class="section">
            <h4>Libraries</h4>
            <p>To Animate our faces we will be using a Sound Library called minim because the Processing sound library is not working on these lab machines. A library is a piece of code that was written by someone else, that is precompiled and ready to be used.</p>
        </div>
        
        <div class="section">
            <h4>Setting up the sound library</h4>
            <ul>
                <li>First, add a background call at the top of draw, this will clear the background everytime draw repeats. The code below will reset the background to white, but you can set it to any color you want. <br/><pre>background(255, 255, 255);</pre></li>
                <li>Click the little arrow next to your code tab, and then paste in the code below (you can name the tab anything you want). You do not need to worry about this code, it is doing some needed operations in the background<br/><pre>
import ddf.minim.*;

Minim minim;
AudioInput in;

private float volumeA;

private final float EASING = 0.2;
private final float MULTIPLIER = 1000;

void setupVolume() {
  minim = new Minim(this);
  in = minim.getLineIn(Minim.MONO, 512);
}

float getVolume() {
  float currentVolume = in.right.level() * MULTIPLIER;

  float volumeDifference = currentVolume - volumeA;
  if(abs(volumeDifference) > 1) {
    volumeA += volumeDifference * EASING;
  } 
  return volumeA;
}

void stop() {
  in.close();
  minim.stop();
  super.stop();
}</pre></li>
                <li>Now go back to your code and define a new variable for the volume at the top: <pre>float volume;</pre></li>
                <li>Then, inside of setup add the code: <pre>setupVolume();</pre></li>
                <li>Lastly, at the top of draw add <pre>volume = getVolume();</pre>.</li>
                <li>Now you can add, subtract, multiply, or divide your volume variable with any of your shapes or lines, to create a face animation that interacts with the sound input.</li>
            </ul>
        </div>
        
        <div class="section">
            <h4>Code example with the sound library setup</h4>
            <img src="imgs/animating_code_v2.png" />
        </div>
        
        <div class="section">
            <a href="moving-eyes.html"><div class="button">
                <p>All done? Move to the next activity!</p>
            </div></a>
        </div>
	</body>
</html>